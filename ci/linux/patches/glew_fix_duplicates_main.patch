--- a/cmake/dependencies/glew.cmake
+++ b/cmake/dependencies/glew.cmake
@@ -52,14 +52,11 @@ EXTERNALPROJECT_ADD(
  URL_MD5 ${_download_hash}
  DOWNLOAD_NAME ${_target}_${_version}.zip
  DOWNLOAD_DIR ${RV_DEPS_DOWNLOAD_DIR}
- # Patch to fix the build issue with OpenGL-Registry Pinning the OpenGL-Registry version to a specific commit https://github.com/nigels-com/glew/issues/449
- # Also clone the required glfixes repository
- PATCH_COMMAND
- cd auto && git clone https://github.com/KhronosGroup/OpenGL-Registry.git || true && cd OpenGL-Registry && git checkout
- a77f5b6ffd0b0b74904f755ae977fa278eac4e95 && cd .. && git clone --depth=1 --branch glew https://github.com/nigels-com/glfixes glfixes || true && touch
- OpenGL-Registry/.dummy && cd ..
- CONFIGURE_COMMAND cd auto && ${_make_command} && cd .. && ${_make_command}
- BUILD_COMMAND ${_make_command} -j${_cpu_count} GLEW_DEST=${_install_dir}
- INSTALL_COMMAND ${_make_command} install LIBDIR=${_lib_dir} GLEW_DEST=${_install_dir}
+ # Fix duplicate variable definitions in GLEW src/glew.c (lines 2059-2068). Skip fragile auto-gen; use pre-generated sources.
+ PATCH_COMMAND bash -c "find <SOURCE_DIR> -name glew.c -type f -path '*/src/glew.c' -print0 | xargs -0 -r sed -i '2059,2068d'"
+ # Archive extracts to glew-<version>/ subdirectory, so run make from there
+ CONFIGURE_COMMAND bash -c "cd <SOURCE_DIR>/glew-${_version} && ${_make_command}"
+ BUILD_COMMAND bash -c "cd <SOURCE_DIR>/glew-${_version} && ${_make_command} -j${_cpu_count} GLEW_DEST=${_install_dir}"
+ INSTALL_COMMAND bash -c "cd <SOURCE_DIR>/glew-${_version} && ${_make_command} install LIBDIR=${_lib_dir} GLEW_DEST=${_install_dir}"
  BUILD_IN_SOURCE TRUE
  BUILD_ALWAYS FALSE
  BUILD_BYPRODUCTS ${_glew_lib}
